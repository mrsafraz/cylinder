<div class="modal-content">

  <div class="modal-header">
    <a href="#user/logout" style="position: absolute; right: 0; top: 0; margin: 6px;"
     class="btn btn-primary btn-light" xclick.delegate="logout()">${'Logout'|trans}</a>
    <h3 class="modal-title">
      <span if.bind="username">${username}</span>
      <span if.bind="!username">${'anonymous'|trans}</span>
    </h3>
  </div>

  <div if.bind="username && !changePassword">
    <!-- <div class="modal-body"></div> -->
    <div class="modal-body">
      <a class="btn btn-primary btn-light" click.delegate="enableChangePassword()">${'Change Password'|trans}</a>
    </div>
  </div>
  <div if.bind="username && changePassword">
    <div class="modal-body">
      <form submit.delegate="saveChanges()">

        <p class="text-danger" if.bind="errorMessage">${errorMessage|trans}</p>

  <!--       <div class="form-group">
          <label class="control-label">${'Username'|trans}</label>
          <input disabled value="${username}" class="form-control" type="text">
        </div> -->
        <div class="form-group">
          <label class="control-label">${'New Password'|trans}</label>
          <input value.bind="newPassword" class="form-control" type="password">
        </div>
        <div class="form-group ${confirmPassword && newPassword != confirmPassword ? 'has-error' : ''}" if.bind="newPassword">
          <label class="control-label">${'Confirm Password'|trans}</label>
          <input value.bind="confirmPassword" class="form-control" type="password">
        </div>
        <div if.bind="confirmPassword && newPassword == confirmPassword" class="form-group ${invalidExistingPassword ? 'has-error' : ''}">
          <label class="control-label">${'Existing Password'|trans}</label>
          <input value.bind="existingPassword" class="form-control" type="password">
        </div>
        <input type="submit" style="height: 1px; visibility: hidden;">
      </form>
    </div>

    <div class="modal-footer">
      <button type="submit" class="btn btn-primary" click.delegate="saveChanges()">${'Save Changes'|trans}</button>
      <button type="button" class="btn btn-default" on-click="close();">${'Close'|trans}</button>
    </div>
  </div>
  </div>
</div>